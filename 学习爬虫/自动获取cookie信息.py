import requests
#目标网址
url='https://www.windquant.com/qntcloud/set?showType=homePage'

#登陆网址
url_login='https://www.windquant.com/cas/login?service=https%3A%2F%2Fwww.windquant.com%2Fqntcloud%2Flogin%2Fcas.go'

#定义请求头
headers={
    'User-Agent': 'Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/80.0.3987.149 Safari/537.36'
}

#如果需要爬虫主动记录cookie 并携带cookie,那么使用requests之前线调用sessiobn方法
#使用session返回的对象发送请求即可
req=requests.session()

#登陆请求使用的数据
data={
    'username': '18698688707',
'password': 'zc99617224',
'execution': '7e2730d4-4aaf-4076-8f6f-a833529563c5_ZXlKaGJHY2lPaUpJVXpVeE1pSjkuU0ZCWmVXdGxjazExYjJGYVNHWlFhV295VDJ4blMwUmFWblIwUnpSRVEwMXZUVWRZWVhoNFkwWnhVRmRoUld4aFMzTmFVM0JWUWtWVU1raHFSMW8yUW01R1dHbEdUbVY0YW01aE1uTkhVbmR6ZEhsNFJYUnNORk5ZYmxKaFFVRnBheXMzVG1FeFVHazNjRTVNYWxKM2F6UlpWWE16YWpWS1JsSlhialU1Y2xKSlJFaHBaakJqZUhkTlFXVXJlRlJDUTNKUFlscHFSa3Q1UVd3MGNWSllkM2RyWldob1dqSnZZbFJuZHpWVWFtTmpOVlYxWVdzMWIzUkpSamRwYjBSalEwbHRMMmxTV0VoSmFWQmlaMEZQTm1OUlJ5ODJPVFY2TTJ4TlZFRnhUMmx5TlRkMFFtVnBOV2xyZVZVM09VNVRVQ3R5WkZveUwxSlpPREZDUTBkbFkySlZlVEJEUzNGcU5EQklabmhPYXpaa1owODNRV3MxY25OVVJuVkhXSEZ0WW5VeVRXUnZXRFJpY1VabVluaEpSMUZHWnl0SU16bEZTREUzYlc5UFQwNHJWRGhXYkRWSmVXWlNWVXhuTjBSNFdHTnJRMHhGU3k4NVJrNUVkMGd2TUZRemJHUjFWMVZtVTNKRWJsWlhPV3BQTldKaUszcFJUa0ZEV21VMGFWTXhUMk1yYkRaVUwzUmlWVU00WW1Oc1UxUlFNME5aZWk5dmJXUnBTVlkxT1VGUGIxUjFSa2xvVVZGU1EzTlRZak40UlRBdk0wWmlPRFU0Wm1kWmFFMTJSVGx0UkU0dmN6QmpaVU5wUzIxb1ZVaEJaMDExTm1WbVMxZzNka3h5T0cxR1JsVnFRMk5oVmtSNGQzVndSMlZMZWtoSlJGUndZVTFTVEdKMWVUZHNkRW95YUd3elRuY3lWalJMYkZjMWVGQnRiMVF3TWpkSVltNUpRM0JNTlRaVE4zUkhkRFUzWTBrMVMwdERVekpuVDBVeGN6SllSWGxQYmpaWVkxVnhORUpNYkU5U1dWQTRjWEJJUmtGVFVEbGtTRzFLTXpoelNrRk5ialpIVDFsRE0wUXJSSEJETmtacGNraGxPSGM1Ym14d1dIcEVaVFpoYjJWVmJqSklMM1Z0VFVaNVdEUXhUSFZLYkVNM1VXMTFOM3BzZGpCS1lrRkpValZVV0V0RVVFbEVia296YzFKRWN6Wk5Sa05hVG14WlZVVXhhVVZQUjFwVmFDc3lLemhwY2k5RmN5dExkMFl6VkZSbmIxZGpVMWt4V2pack5YSkxUMmRIWVRKTU5XMUNUR2swTTBSUlZVZFBaazlsWkZNMFZFcE5Va2w2UWxWamRpOXJOSE01WTBOaVlXOXpTRTU0U1RaWWJtaFhjMHAxWW5oTVpsUnBkekJHY2paemQxVlFNbGhPZVVwRVQzcE1TVmhxVVM5c1dUZElUazVtZWpCNVpYQmhaRzAzYTJOMEx5dFRaMlV2ZVhRMWNYZDZhVmxIVURGcE5VdDJUeXR3WVZaTlMyNXJiM0F6UmpkTVpUYzFlalpWUXk5VUsxUk5hRVJtVVhOU2JtYzFWamREV25CalNsVTNNVmt4Y1hkMU4wRlBTM0pYTDNRek5FWXlPSGRPWTFsUWFsSXhSa1pMUjNSQ1VUY3dXWEJQT1dGQk5qRkdiR1pWTWpWWFJVTlRhVXh6WVhoaFZtZEhSRWhOYWxSaFJXRTRXamszYVVsM2RDdDVZMjlPYzFFelYwNDNVMEpZV1ZBeFQxRXpSRk5NYld4T1lXYzJjekZTVm5aUlowNW5XSEp5U0RaQlJVVkRWVm8xV0Vsb1owODBjRTFqZG01aFdFTkNSVWhyTldWb1QxcEhSR0ZhVjBkTlRuaHRUWGczYkRZMGExZGtXVVoyUjBOaFRTdHZhbGM0VVVONGRYUnpVWEp1Vm5SNFFWWTRiSGhGY2t4b05YbFNja1ZYYVZBNFZsUmphRXBJU1d3eVprNWhkQzk1VGpkVVZXSlBPV2g0WWl0bmVETlJZek5tZUdGNU1XSk9VbmxPWVhSeVp5OTVOMU40VVV3MVFqY3lZM0JFTDBOb2NFdFVXR2h2TkdwNEwyVnRaMGQzYmxGMlUya3JZMjlRU0VGcVNsSlFPVVlyY0hSMmVHeG5aVUZuVnpWRGRGVTVUMEpwYnpaS01YRnNhMWQ0UW5CNlJUUXlWWFV4Tm0xblpHcEhlUzlrTDBsaVNrdFFPVFJQTm1wdU5rUndPRlJQTkZsd1kwczNNRXd3YTBWS05FeHdjME5TY25oVE9WQnVOR0V2UjJ4clNHTkRhVWRtYm01dVNHNWphMkZNZG1JMFFYTnBWVE51ZGpCTFQwcHVVbUkxU0dWNmVWbFZibFJvTjJaUmJsRk5hVkZLUVZJMFRFaHVMMFZ1YkV4NWNtOVRXbTl5YUVSek4xTmpjVGMzWlVsMVRtdG9iVGMwVldkWUsyRmlkM0p0ZG5adVEwbERNR1o1TkhoUVpDczFaRmxqT1RObVdsbG1WalZMV25Sb2RtRXJabGhJZG1sWWJXcG9VMEYyTVRWbmNrbFJOR2xtU2tzNFJFTjFlVGhNTmtoSE1tNXpXSGhTUmtGWWFrMVFVRUpyYkRCcVpEQktRWHBVUWtSWVkyVXdjVmRTY25KeldsRmpaRlJsTlVwS01TdDZkMmt5TkZWR1drNUhVbU4zTWtaNk0xQjZUM0pHUVRCcWMwcFJTbHBzWjJkTFFVNU1Ta2hYYzFKVWJqZEZkRTVCZFZodGVFNVhSVzFRVUUwM2RWQjRVVWxEUVV0a1ZIcDNiVUprV0ZWTFYyUnhSMFI1Wkd4UGNtVmhOV3M1UVZCcFNuUjJRbGxDUkVSclpUTklURTFrYTA1MVpXZE5XbTVMTlN0MFVVaERaVEpqYVdsQllVNUphbE5KVVhOWE9VSnVSbVJGTTBKcFMxWTJiMWw2U2sxM1NVcHNhalZ0UmxOVGVUTXdjazkwY3paV2NGTndhRWg0YW5GRUsyRm9VVVYwVkVJMFNrVXpRUzlsTUVaRWFHczVRVmtyZGxkQ05XTmhOVElyTW5CcmVraHBVbkZxUzFjdk0zVm1VV2t5T0VOeWNrSXZaMEpWTXpOT1NsYzBjWEpDWjBWcE1sQkZjVWN3VG5sdWVWcGpjVVJxT0ZNNVYwRXZaV3RqVGs0NVpuZHlWR1pGU3pWTk9VeEJjWE5LZVd4TGFrUm5WR3gzWmpaS2JYSlJSMUJpU2tsb05sZzVkbXRPVFZGcVNucDBNVEpOTWpKamMyeFVPVWx2U0RkT2MzRXJPRGxKZUhONE5YUjBLemhwTDIxTFVIbGFSRmc1T0RSV1pXMTRRMWs0WWxoa2IwNTNiV0pKSzBGUFdrbHNWQzlvTHpOMVNWUmlRV3RpY2tNMGVTdG1aMWhtTXpKUWVGZE9WRzEwVlRZMmJuSk9WRTFDTUdZclZYaE1XVFozY0ZKa09DOVRZbGRUVERkMmF6bEphek00U1hKNk9VTlpPRmxFTlRSME5GTTFSSFl4VkdaU01UaFVWVzVHTW5SeFZWbElLMHhUUkN0NFlUTkZkWEpXYTBScmNFbGhRVzVPUkM5WE5IVmFjR2xGYURNclZYZ3dRMDlIVDFNdmVuTlBTMUZWUlRJNFIya3hVVmMyZFZJMlpXTnlaVnA2YWpaek4wdGhZVGc1UWxoUU5UWnBWM0YzUWtVMmJsTnpUVXBYZVRsTFZrUkNkVVJQY0ZWMFUybHpSVXBuTVVrclRrVTRWUzl4UkZSVGFrSjVNRXhPWTA1SVdUQnNkVzVCWVZsa2FIbEpTVEkwZEhaNVVUWTNkRUZFVkZkTlNIRmpaSEZ5VkRRcmNHaFRUVEl5VTJaUVRqZDVURzlYVUhkdU1VNXBZbGd2VG05dVozcE5hMWxrZGs5dE1EUlRWMVl4Y0ZOc00wMTZNMU55VVdaQlNYWmpjVzkxTjFSbE4wSlhNa2RTT1ZaNE0wbFpPVlY1WVRVNWJtRk9TVGs0YlRGdlZXUTVkRGt4VG5neVRrSkxiemN2S3pkVU5Vd3ZTSHBIYkRGNE0waGFWbXQwV1RJMVZXTkVNM1JTWjA1cFVGUXlWRzlYYzNsSmEwZFpMM0oxVldSaU0wNDNaRGhLUWxWYWRUWjVXV1oxY2pCUk1HcFpLelJQT0VoR1RrZHpVVWRFV2xwNk1uaE1jMUpyWkhOS00ybG9iREZYTDFrNUwyRllWMWxHTmxaR2NteHhSblJ4VTFCVWVtNW1kRTVHWVdSVlptRlVOVTVJUkVOR09YQnhRVmxWTmpWNlZtbEpMemQyYzI1aGFtaGpNa2x6VkhwbWVIVk1iVEZpU1dac1MxZEJQVDAuUVZka3lWcG1JMWhnVWVFc2NkZmpkQ3hQMU4tcERFbENVRThqTlRyNEkwVnlGWTVWbGtudmhoa3A4b1dOUWlXS2FfT2MyOWlJM0NmWWtGZVZFc0dqZVE=',
'_eventId': 'submit',
'submit':''
}
#发起登陆请求
res=req.post(url=url_login,headers=headers,data=data)

#判断状态
code=res.status_code
print(code)
#发起获取网页请求
if code == 200:
    res=req.get(url=url,headers=headers)
    with open('./gongzheng.html','w') as html:
        html.write(res.text)
